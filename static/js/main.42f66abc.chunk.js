(this["webpackJsonpweb-beds-app"]=this["webpackJsonpweb-beds-app"]||[]).push([[0],{73:function(e,t,n){},94:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a,i=n(0),r=n.n(i),c=n(8),s=n.n(c),o=(n(73),n(18)),d=n(134),l=n(19),u=n(63),j=n(62),h=n(12),b="PRO"===Object({NODE_ENV:"production",PUBLIC_URL:"/WebBedsFront",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STAGE?{webbeds_external:"https://web-beds-api.herokuapp.com/",DEV:!1}:"DEV"===Object({NODE_ENV:"production",PUBLIC_URL:"/WebBedsFront",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STAGE?{webbeds_external:"https://localhost:44379/",DEV:!0}:{webbeds_external:"https://web-beds-api.herokuapp.com/",DEV:!1},O=Object(h.a)(Object(h.a)({},b),{},{VERSION:"v 0.060409"}),p=n(9),x=n.n(p),m=n(17),g=n(31),v=n(55),f=n.n(v),R=n(26),E=n(43),y=n(56);!function(e){e.LOADING="LOADING",e.LOADING_CLEAR="LOADING_CLEAR",e.ALERT_ERROR="ALERT_ERROR",e.ALERT_CLEAR="ALERT_CLEAR"}(a||(a={}));var L=function(){return{type:a.LOADING,payload:""}},_=function(){return{type:a.LOADING_CLEAR,payload:""}},T=function(e){var t="";return"string"===typeof e?t=e:e.message&&(t=e.message),{type:a.ALERT_ERROR,payload:t}},A={showLoading:!1,showMessage:!1,message:""},S=Object(R.b)({uiReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.LOADING:return Object(h.a)(Object(h.a)({},e),{},{showLoading:!0});case a.LOADING_CLEAR:return Object(h.a)(Object(h.a)({},e),{},{showLoading:!1});case a.ALERT_ERROR:return Object(h.a)(Object(h.a)({},e),{},{type:"error",message:t.payload,showMessage:!0});case a.ALERT_CLEAR:return Object(h.a)(Object(h.a)({},e),{},{showMessage:!1});default:return e}}}),I=Object(y.createLogger)(),w=O.DEV?Object(R.c)(S,Object(R.a)(E.a,I)):Object(R.c)(S,Object(R.a)(E.a)),D=new(function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).URL=void 0,e.URL=O.webbeds_external+"Hotels",e}return n}(function(){function e(){Object(l.a)(this,e),this.URL=void 0,this.URL=O.webbeds_external}return Object(g.a)(e,[{key:"setLoading",value:function(){w.dispatch(L())}},{key:"clearLoading",value:function(){w.dispatch(_())}},{key:"onInit",value:function(){this.setLoading()}},{key:"onFinish",value:function(e,t){return t||this.clearLoading(),e.data}},{key:"onFinishError",value:function(e,t){throw t||this.clearLoading(),w.dispatch(T(e)),e}},{key:"search",value:function(){var e=Object(m.a)(x.a.mark((function e(t){var n=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onInit(),e.abrupt("return",f.a.post("".concat(this.URL,"/search"),t).then((function(e){return n.onFinish(e)})).catch((function(e){return n.onFinishError(e)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())),C=(n(94),n(132)),N=n(136),P=n(137),k=n(41),F=n(129),V=n(3),G=Object(F.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:e.spacing(2),width:"100%","& .MuiTextField-root":{margin:e.spacing(1)},"& .MuiButtonBase-root":{margin:e.spacing(2)}}}})),W=function(e){var t=G(),n=e.onSubmit,a=e.children,i=e.onReset;return Object(V.jsx)("form",{className:t.root,onSubmit:n,onReset:i,children:a})},B=function(e){var t=Object(k.b)(),n=t.handleSubmit,a=t.control,i=t.register,r=t.setValue,c=e.onSearch,s=e.onChangeP,o=e.search,d=e.submitDisabled,l=function(e){return/^-?[\d.]+(?:e-?\d+)?$/.test(e)},u=function(e,t){s(e)};return Object(V.jsx)(C.a,{container:!0,children:Object(V.jsx)(W,{onSubmit:n((function(e){c(e)})),onReset:function(){s({destinationId:"",nights:""}),r("destinationID",""),r("nights","")},children:Object(V.jsxs)(C.a,{container:!0,style:{justifyContent:"center"},children:[Object(V.jsx)(C.a,{item:!0,xs:12,md:3,children:Object(V.jsx)(k.a,{name:"destinationId",control:a,defaultValue:"",render:function(e){var t=e.field,n=t.onChange,a=(t.value,e.fieldState.error);return Object(V.jsx)(N.a,Object(h.a)(Object(h.a)({},i("destinationID")),{},{style:{width:"95%"},autoComplete:"number",error:!!a,helperText:a?a.message:null,placeholder:"0",label:"Destination ID",onChange:function(e){return l(e.target.value)||""===e.target.value?u(Object(h.a)(Object(h.a)({},o),{},{destinationId:e.target.value}),n(e.target.value)):null},type:"text",value:o.destinationId,variant:"outlined"}))},rules:{required:"Destination ID required"}})}),Object(V.jsx)(C.a,{item:!0,xs:12,md:3,children:Object(V.jsx)(k.a,Object(h.a)(Object(h.a)({},i("nights")),{},{name:"nights",control:a,defaultValue:"",render:function(e){var t=e.field.onChange,n=e.fieldState.error;return Object(V.jsx)(N.a,{style:{width:"95%"},error:!!n,helperText:n?n.message:null,placeholder:"0",label:"Nights",onChange:function(e){return l(e.target.value)||""===e.target.value?u(Object(h.a)(Object(h.a)({},o),{},{nights:e.target.value}),t(e.target.value)):null},type:"text",value:o.nights,variant:"outlined"})},rules:{required:"Number of nights required"}}))}),Object(V.jsx)(C.a,{item:!0,xs:6,md:1,alignContent:"flex-start",children:Object(V.jsx)(P.a,{type:"submit",variant:"contained",color:"primary",disabled:d,children:"Search"})}),Object(V.jsx)(C.a,{item:!0,xs:6,md:1,alignContent:"flex-end",children:Object(V.jsx)(P.a,{type:"reset",variant:"contained",color:"secondary",children:"RESET"})})]})})})},H=function e(){Object(l.a)(this,e)};H.RATE_TYPE={perNight:"PerNight"};var U=n(135);var K=function(){var e=r.a.useState([]),t=Object(o.a)(e,2),n=t[0],a=t[1],i=r.a.useState({destinationId:"",nights:""}),c=Object(o.a)(i,2),s=c[0],l=c[1],u=r.a.useState(!1),j=Object(o.a)(u,2),h=j[0],b=j[1];return Object(V.jsx)("div",{className:"App",children:Object(V.jsxs)(d.a,{children:[Object(V.jsx)(B,{onSearch:function(e){b(!0),l(e),a([]),e.destinationId&&D.search({destinationId:parseInt(e.destinationId)}).then((function(e){a(e),b(!1)})).catch((function(e){b(!1)}))},onChangeP:function(e){l(e)},search:s,submitDisabled:h}),Object(V.jsxs)(C.a,{container:!0,children:[Object(V.jsx)(C.a,{item:!0,md:4,children:Object(V.jsx)("h2",{children:Object(V.jsx)("b",{children:"Hotel"})})}),Object(V.jsx)(C.a,{item:!0,md:8,children:Object(V.jsx)("h2",{children:Object(V.jsx)("b",{children:"Rates"})})}),Object(V.jsx)(C.a,{item:!0,xs:12,children:Object(V.jsx)(U.a,{})}),Object(V.jsx)(C.a,{item:!0,md:4}),Object(V.jsx)(C.a,{item:!0,md:2,children:Object(V.jsx)("h3",{children:" Rate Type"})}),Object(V.jsx)(C.a,{item:!0,md:2,children:Object(V.jsx)("h3",{children:" Board Type"})}),Object(V.jsx)(C.a,{item:!0,md:2,children:Object(V.jsx)("h3",{children:"Value"})}),Object(V.jsx)(C.a,{item:!0,md:2,children:Object(V.jsx)("h3",{children:"Final Price"})}),n?null===n||void 0===n?void 0:n.map((function(e,t){var n,a,i,c,o;return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(C.a,{item:!0,md:4,children:[Object(V.jsxs)("p",{children:["Property Id: ",null===(n=e.hotel)||void 0===n?void 0:n.propertyID]}),Object(V.jsxs)("p",{children:["Name: ",null===(a=e.hotel)||void 0===a?void 0:a.name]}),Object(V.jsxs)("p",{children:["Geo ID: ",null===(i=e.hotel)||void 0===i?void 0:i.geoId]}),Object(V.jsxs)("p",{children:["Rating: ",null===(c=e.hotel)||void 0===c?void 0:c.rating]})]},"H"+t),Object(V.jsx)(C.a,{item:!0,xs:12,md:8,children:null===(o=e.rates)||void 0===o?void 0:o.map((function(t,n){return Object(V.jsx)(r.a.Fragment,{children:Object(V.jsxs)(C.a,{container:!0,children:[Object(V.jsx)(C.a,{item:!0,md:3,children:t.rateType}),Object(V.jsx)(C.a,{item:!0,md:3,children:t.boardType}),Object(V.jsx)(C.a,{item:!0,md:3,children:t.value}),Object(V.jsx)(C.a,{item:!0,md:2,children:t.rateType===H.RATE_TYPE.perNight&&s.nights?t.value*parseInt(s.nights):t.value}),Object(V.jsx)(C.a,{item:!0,xs:12,children:Object(V.jsx)(U.a,{style:{padding:"10px",backgroundColor:"white"}})})]})},"R"+e.hotel.propertyID+n)}))}),Object(V.jsx)(C.a,{item:!0,xs:12,children:Object(V.jsx)(U.a,{style:{padding:"10px",backgroundColor:"white"}})})]})})):"No results"]})]})})},M=n(61);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(V.jsx)(r.a.StrictMode,{children:Object(V.jsx)(M.a,{store:w,children:Object(V.jsx)(K,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[99,1,2]]]);
//# sourceMappingURL=main.42f66abc.chunk.js.map